(this.webpackJsonphorses=this.webpackJsonphorses||[]).push([[0],[,,,,,,,,,,function(i,e,n){i.exports=n.p+"static/media/white.83c6f684.svg"},function(i,e,n){i.exports=n.p+"static/media/black.3e68d800.svg"},function(i,e,n){i.exports=n(24)},,,,,function(i,e,n){},function(i,e,n){},function(i,e,n){},,,,function(i,e,n){},function(i,e,n){"use strict";n.r(e);var t=n(0),r=n.n(t),o=n(9),a=n.n(o),u=(n(17),n(18),n(7)),c=n(1),j=n(2),s=n(3),l=n(4),f=function(){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.HORSE_W();Object(s.a)(this,i),this.i=e,this.j=n,this.mode=this.validateMode(t)}return Object(l.a)(i,[{key:"validateMode",value:function(e){return e!==i.HORSE_W&&e!==i.HORSE_B?i.HORSE_W:e}},{key:"getClassList",value:function(){return"horse ".concat(this.mode===i.HORSE_W?"white":"black")}},{key:"getPosition",value:function(){return{i:this.i,j:this.j}}},{key:"setPosition",value:function(i,e){if(!i||!e)throw"Invalid position!";if(i<=0||e<=0)throw"Invalid position!";this.i=i,this.j=e}}],[{key:"getInitialHorsesPositions",value:function(e){for(var n=[],t=0;t<e;t++){var r=t;n.push(new i(0,r,i.HORSE_W))}for(var o=e;o>0;o--){var a=e-1,u=o-1;n.push(new i(a,u,i.HORSE_B))}return n}},{key:"getMOVES",value:function(i){return[{i:i.i-2,j:i.j-1},{i:i.i-2,j:i.j+1},{i:i.i-1,j:i.j-2},{i:i.i-1,j:i.j+2},{i:i.i+1,j:i.j-2},{i:i.i+1,j:i.j+2},{i:i.i+2,j:i.j-1},{i:i.i+2,j:i.j+1}].filter((function(i){return!(i.i>8||i.j>8||i.i<0||i.j<0)}))}},{key:"validateMove",value:function(i,e){return i.i===e.i-2&&i.j===e.j-1||(i.i===e.i-2&&i.j===e.j+1||(i.i===e.i-1&&i.j===e.j-2||(i.i===e.i-1&&i.j===e.j+2||(i.i===e.i+1&&i.j===e.j-2||(i.i===e.i+1&&i.j===e.j+2||(i.i===e.i+2&&i.j===e.j-1||i.i===e.i+2&&i.j===e.j+1))))))}},{key:"HORSE_W",get:function(){return 0}},{key:"HORSE_B",get:function(){return 1}}]),i}(),v=(n(19),n(10)),m=n.n(v),d=n(11),h=n.n(d);function p(i){var e=i.position,n=i.isCenter,t=i.pawn,o=i.classList,a=i.select;return r.a.createElement("div",{className:"Field ".concat(n?"center":""),onClick:function(){return a(e,t)}},t&&r.a.createElement("div",{className:o},t.mode===f.HORSE_W&&r.a.createElement("img",{src:m.a,alt:"white-horse",className:"pawn"}),t.mode===f.HORSE_B&&r.a.createElement("img",{src:h.a,alt:"black-horse",className:"pawn"})))}var E=function(){function i(){Object(s.a)(this,i)}return Object(l.a)(i,null,[{key:"calculateValue",value:function(i,e){var n=0;return e.find((function(e){return e.i===i.i&&e.j===i.j&&1===e.mode}))?0:!e.find((function(i){return 4===i.i&&4===i.j&&1===i.mode}))||(2!==i.i&&6!==i.i||3!==i.j)&&(2!==i.i&&6!==i.i||5!==i.j)?4===i.i&&4===i.j?(n+=50,e.find((function(i){return 4===i.i&&4===i.j&&0===i.mode}))&&(n+=100),n):(2===i.i||6===i.i)&&3===i.j||(2===i.i||6===i.i)&&5===i.j?(n+=25,e.find((function(e){return((2===i.i||6===i.i)&&3===i.j||(2===i.i||6===i.i)&&5===i.j)&&0===e.mode}))&&(n+=12),n):[2,4,6].includes(i.j)&&[0,4,8].includes(i.i)?(n+=12,e.find((function(i){return[2,4,6].includes(i.j)&&[0,4,8].includes(i.i)&&0===i.mode}))&&(n+=6),n):[1,7].includes(i.j)&&[2,6].includes(i.i)?(n+=6,e.find((function(i){return[0,8].includes(i.j)&&[0,8].includes(i.i)&&0===i.mode}))&&(n+=3),n):[0,8].includes(i.j)&&[0,8].includes(i.i)?(n+=3,e.find((function(i){return[0,8].includes(i.j)&&[0,8].includes(i.i)&&0===i.mode}))&&(n+=1),n):2:200}},{key:"makeDecision",value:function(e){return i.minimax(0,0,!0,e,{value:Number.NEGATIVE_INFINITY},{value:Number.POSITIVE_INFINITY})}},{key:"minimax",value:function(e,n,t,r,o,a){if(2===e)return r[n];if(t){for(var u={value:Number.NEGATIVE_INFINITY},c=0;c<2;c++){var j=i.minimax(e+1,2*n+c,!1,r,o,a);if(u=Math.max(u.value,j.value)===u.value?u:j,o=Math.max(o.value,u.value)===u.value?u:o,a.value<=o.value)break}return u}for(var s={value:Number.POSITIVE_INFINITY},l=0;l<2;l++){var f=i.minimax(e+1,2*n+l,!0,r,o,a);if(s=Math.min(s.value,f.value)===s.value?s:f,(a=Math.min(a.value,s.value)===s.value?s:a).value<=o.value)break}return s}}]),i}(),O=(n(20),n(23),function(){function i(){Object(s.a)(this,i),this._pawnGroups={0:[{i:0,j:0},{i:0,j:8},{i:2,j:2},{i:2,j:6},{i:6,j:2},{i:6,j:6},{i:8,j:0},{i:8,j:8}],1:[{i:0,j:1},{i:0,j:3},{i:0,j:5},{i:0,j:7},{i:1,j:0},{i:1,j:2},{i:1,j:4},{i:1,j:6},{i:1,j:8},{i:2,j:1},{i:2,j:7},{i:3,j:0},{i:3,j:4},{i:3,j:8},{i:4,j:1},{i:4,j:3},{i:4,j:5},{i:4,j:7},{i:5,j:0},{i:5,j:4},{i:5,j:8},{i:6,j:1},{i:6,j:7},{i:8,j:1},{i:8,j:3},{i:8,j:5},{i:8,j:7},{i:7,j:0},{i:7,j:2},{i:7,j:4},{i:7,j:6},{i:7,j:8}],2:[{i:0,j:2},{i:0,j:4},{i:0,j:6},{i:1,j:1},{i:1,j:3},{i:1,j:5},{i:1,j:7},{i:2,j:0},{i:2,j:4},{i:2,j:8},{i:3,j:1},{i:3,j:3},{i:3,j:5},{i:3,j:7},{i:4,j:0},{i:4,j:2},{i:4,j:6},{i:4,j:8},{i:8,j:2},{i:8,j:4},{i:8,j:6},{i:7,j:1},{i:7,j:3},{i:7,j:5},{i:7,j:7},{i:6,j:0},{i:6,j:4},{i:6,j:8},{i:5,j:1},{i:5,j:3},{i:5,j:5},{i:5,j:7}],3:[{i:2,j:3},{i:2,j:5},{i:3,j:2},{i:3,j:6},{i:5,j:2},{i:5,j:6},{i:6,j:3},{i:6,j:5}],4:[{i:4,j:4}]},this._pawnGroupValue={0:4,1:8,2:16,3:28,4:44}}return Object(l.a)(i,[{key:"_calculateScore",value:function(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this,t=i.filter((function(i){return i.mode===f.HORSE_W})),r=i.filter((function(i){return i.mode===f.HORSE_B})),o=0;t.forEach((function(i){o+=n._getPositionScore(i.i,i.j)}));var a=0;return r.forEach((function(i){a+=n._getPositionScore(i.i,i.j)})),1===e?a-o:o-a}},{key:"_getPositionScore",value:function(i,e){for(var n,t=0,r=Object.entries(this._pawnGroups);t<r.length;t++){var o=Object(j.a)(r[t],2),a=o[0];if(o[1].find((function(n){return n.i===i&&n.j===e}))){n=a;break}}return this._pawnGroupValue[n]}},{key:"_getPossibleMoves",value:function(i,e,n){for(var t=[],r=-2;r<=2;r+=4)for(var o=function(o){var a={i:i+r,j:e+o};a.i<=8&&a.i>=0&&a.j<=8&&a.j>=0&&(n.find((function(i){return i.i===a.i&&i.j===a.j}))||t.push(a))},a=-1;a<=1;a+=2)o(a);for(var u=-2;u<=2;u+=4)for(var c=function(r){var o={i:i+r,j:e+u};o.i<=8&&o.i>=0&&o.j<=8&&o.j>=0&&(n.find((function(i){return i.i===o.i&&i.j===o.j}))||t.push(o))},j=-1;j<=1;j+=2)c(j);return t}},{key:"getBestMove",value:function(i,e){var n=this,t=i.filter((function(i){return i.mode===f.HORSE_B})),r=i.filter((function(i){return i.mode===f.HORSE_W})),o=[];t.forEach((function(i,e){n._getPossibleMoves(i.i,i.j,t).forEach((function(n){var a=Object(c.a)(t),u=Object(c.a)(r);a.splice(e,1,new f(n.i,n.j,f.HORSE_B));var j=u.findIndex((function(i){return i.i===n.i&&i.j===n.j}));-1!==j&&u.splice(j,1),o.push({move:{from:{i:i.i,j:i.j},to:{i:n.i,j:n.j}},pawnPositions:a.concat(u)})}))}));var a=[],u=Number.NEGATIVE_INFINITY,j=Number.POSITIVE_INFINITY;o.forEach((function(i){var t=i.move.from;if(4===t.i&&4===t.j)a.push({score:9999,pawnMove:i}),u=9999;else{var r=n._minMax(e-1,Object(c.a)(i.pawnPositions),f.HORSE_W,u,j);a.push({score:r,pawnMove:i}),u=r>u?r:u}})),a.sort((function(i,e){return e.score-i.score}));var s=a[0].score,l=a.filter((function(i){return i.score===s}));return console.log(s),l[Math.floor(Math.random()*l.length)]}},{key:"_minMax",value:function(i,e,n,t,r){var o=this;if(0===i)return this._calculateScore(e);var a=e.filter((function(i){return i.mode===n})),u=e.filter((function(i){return i.mode!==n})),j=[];a.forEach((function(i,e){o._getPossibleMoves(i.i,i.j,a).forEach((function(t){var r=Object(c.a)(a);r.splice(e,1,new f(t.i,t.j,0===n?f.HORSE_W:f.HORSE_B));var o=Object(c.a)(u),s=o.findIndex((function(i){return i.i===t.i&&i.j===t.j}));-1!==s&&o.splice(s,1);var l={move:{from:{i:i.i,j:i.j},to:{i:t.i,j:t.j}},pawnPositions:r.concat(o)};-1!==s?j.unshift(l):j.push(l)}))}));var s=[];return j.every((function(e){var a=e.move.from;if(4===a.i&&4===a.j)1===n?r=-9999:t=9999,s.push(0===n?-9999:9999);else{var u=o._minMax(i-1,Object(c.a)(e.pawnPositions),0===n?1:0,t,r);1===n?t=u>t?u:t:r=u<r?u:r,s.push(u)}})),0===n?s.sort((function(i,e){return i-e})):s.sort((function(i,e){return e-i})),s[0]}}]),i}());var b=r.a.memo((function(i){var e;void 0===i.size||i.size<5||i.size%2!==1?(console.log("Invalid board size!!"),e=9):e=i.size;var n=Object(t.useState)(0),o=Object(j.a)(n,2),a=o[0],s=o[1],l=Object(t.useState)({i:null,j:null,mode:null}),v=Object(j.a)(l,2),m=v[0],d=v[1],h=Object(t.useState)(null),b=Object(j.a)(h,2),w=b[0],_=b[1],I=Object(t.useState)(f.getInitialHorsesPositions(e)),S=Object(j.a)(I,2),g=S[0],M=S[1],k=function(i,e){w||(e?a===e.mode?d(e):y(i):N(i))},N=function(i){var n={i:m.i,j:m.j,mode:m.mode};if(a===m.mode&&f.validateMove(n,i)){var t=g.map((function(e){return e.i===m.i&&e.j===m.j?new f(i.i,i.j,a):e}));M(t),d(new f(null,null,null)),s(0===a?1:0),t.find((function(i){return 1===i.mode}))&&(n.i!==Math.ceil((e-1)/2)||n.j!==Math.ceil((e-1)/2)||0!==n.mode||t.find((function(i){return 0===i.mode&&i.i===n.i&&i.j===n.j})))||_(0),t.find((function(i){return 0===i.mode}))&&(n.i!==Math.ceil((e-1)/2)||n.j!==Math.ceil((e-1)/2)||1!==n.mode||t.find((function(i){return 1===i.mode&&i.i===n.i&&i.j===n.j})))||_(1)}else m&&console.log("Not your turn or unproper move Sir")},y=function(i){if(f.validateMove({i:m.i,j:m.j},i)){var e=g.findIndex((function(e){return e.i===i.i&&e.j===i.j}));g.splice(e,1),M(Object(c.a)(g)),N(i)}},P=function(i){for(var n,t,o=0;o<i;o++)n=Math.ceil((o+1)/e),0===(t=(o+1)%e)&&(t=e);for(var a=[],u=function(i){for(var n=function(n){var t=void 0,o={i:i,j:n},u=g.find((function(e){return e.i===i&&e.j===n}));u&&(t=u.getClassList()),o.i===m.i&&o.j===m.j&&(t+=" selected"),i===Math.ceil((e-1)/2)&&n===Math.ceil((e-1)/2)?a.push(r.a.createElement(p,{row:i,column:n,key:"".concat(o.i,":").concat(o.j),position:o,isCenter:!0,pawn:u,classList:t,select:k})):a.push(r.a.createElement(p,{row:i,column:n,key:"".concat(o.i,":").concat(o.j),position:o,isCenter:!1,pawn:u,classList:t,select:k}))},o=0;o<t;o++)n(o)},c=0;c<n;c++)u(c);return function(i,e){var n=0,t=i.length,r=[];for(n=0;n<t;n+=e){var o=i.slice(n,n+e);r.push(o)}return r}(a,e)}(e*e).map((function(i,e){return r.a.createElement("div",{className:"row",key:"column".concat(e)},i)})),H=Object(t.useState)(null),R=Object(j.a)(H,2),x=R[0],B=R[1];return Object(t.useEffect)((function(){if(1===a){var i=function(){var i=new O,e=g.filter((function(i){return 1===i.mode})).map((function(i){return{to:f.getMOVES({i:i.i,j:i.j}),from:{i:i.i,j:i.j}}})),n=(e.map((function(i){return Object(u.a)({},i,{to:Object(u.a)({},i.to,{next:i.to.map((function(i){return f.getMOVES({i:i.i,j:i.j})}))})})})),e.map((function(i){return i.to.map((function(e){return Object(u.a)({},e,{from:i.from,value:E.calculateValue(e,g)})}))})).flat(1)),t=(E.makeDecision(n),i.getBestMove(g,4).pawnMove.move);return d(new f(t.from.i,t.from.j,1)),{i:t.to.i,j:t.to.j}}();B(i)}}),[a]),Object(t.useEffect)((function(){1===a&&(m.i||0===m.i)&&x&&(g.find((function(i){return i.i===x.i&&i.j===x.j&&0===i.mode}))?y(x):N(x))}),[m,x]),r.a.createElement("div",{className:"Board"},P,0===w&&r.a.createElement("h1",null,"Player WHITE won!"),1===w&&r.a.createElement("h1",null,"Player BLACK won!"),(0===w||1===w)&&r.a.createElement("button",{onClick:function(){return window.location.reload()}},"Reset"))}),(function(i,e){return i.currentPlayer!==e.currentPlayer||i.selectedPawn!==e.selectedPawn||i.pawnPositions.forEach((function(i,n){if(i.i!==e.pawnPositions[n].i||i.i!==e.pawnPositions[n].j||i.mode!==e.pawnPositions[n].mode)return!1})),!0}));var w=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(b,{size:9}))};a.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root"))}],[[12,1,2]]]);
//# sourceMappingURL=main.1262029d.chunk.js.map